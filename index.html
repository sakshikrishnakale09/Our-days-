<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Our Love Story üíñ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      height: 100%; margin: 0; padding: 0;
      font-family: 'Segoe Script', 'Comic Sans MS', cursive, sans-serif;
      background: linear-gradient(135deg, #ffe3f3 0%, #ffd6e0 100%);
      overflow-x: hidden;
    }
    .page {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      width: 100vw;
      position: absolute;
      top: 0; left: 0;
      background: linear-gradient(135deg, #ffe3f3 0%, #ffd6e0 100%);
      z-index: 1;
      transition: opacity 1s;
    }
    .active {
      display: flex;
      opacity: 1;
      z-index: 10;
    }
    .love-btn {
      margin: 32px 0 0 0;
      padding: 18px 36px;
      background: #fff0f6;
      border: none;
      border-radius: 30px;
      font-size: 1.25em;
      color: #fa4c8c;
      font-weight: bold;
      box-shadow: 0 4px 20px #fa4c8c55;
      cursor: pointer;
      transition: transform 0.18s, background 0.25s;
      outline: none;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px #fa4c8c44;
      font-family: inherit;
    }
    .love-btn:hover {
      background: #ffeaf4;
      transform: scale(1.07) rotate(-2deg);
    }
    .heart {
      width: 70px;
      margin-bottom: 18px;
      animation: pulse 1.3s infinite;
      display: block;
      filter: drop-shadow(0px 0px 16px #ffb6d5);
    }
    @keyframes pulse {
      0%,100% { transform: scale(1);}
      55% { transform: scale(1.15);}
    }
    .msg {
      color: #b32d5e;
      font-size: 1.1em;
      margin-bottom: 24px;
      margin-top: 0;
      line-height: 1.5;
      letter-spacing: 0.04em;
      text-align: center;
      max-width: 370px;
      background: rgba(255,255,255,0.4);
      padding: 10px 22px 10px 22px;
      border-radius: 16px;
      box-shadow: 0 2px 10px #fa4c8c19;
    }
    /* College/Polaroid style collage */
    .collage-board {
      position: relative;
      margin: 28px 0 12px 0;
      background: #fff6fa;
      border-radius: 22px;
      box-shadow: 0 6px 32px #fa4c8c22, 0 2px 8px #fa4c8c19;
      padding: 36px 12px 36px 12px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 32px 24px;
      min-width: 285px;
      min-height: 240px;
      max-width: 98vw;
    }
    .polaroid {
      position: relative;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 8px 26px #fa4c8c1a, 0 2px 12px #ffb6d533;
      width: 122px;
      padding-bottom: 18px;
      margin: 0 7px;
      overflow: visible;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      --angle: 0deg;
      opacity: 0;
      transform: scale(0.7) rotate(var(--angle));
      animation: floatPolaroid 1.6s cubic-bezier(.68,-0.55,.27,1.55) forwards;
    }
    .polaroid img {
      width: 104px;
      height: 104px;
      object-fit: cover;
      border-radius: 6px;
      margin-top: 10px;
      box-shadow: 0 4px 16px #fa4c8c14;
      background: #ffe7f2;
      border: 2.5px solid #fff;
      filter: brightness(1) drop-shadow(0 0 5px #fa4c8c11);
      transition: filter 0.5s, box-shadow 0.5s, transform 0.5s;
    }
    .polaroid .caption {
      font-size: 0.95em;
      color: #fa4c8c;
      text-align: center;
      margin-top: 8px;
      letter-spacing: 0.03em;
      font-family: 'Segoe Script', cursive;
      text-shadow: 0 1px 6px #fa4c8c19;
      width: 100%;
      min-height: 20px;
    }
    .polaroid:hover img, .polaroid.glow img {
      filter: brightness(1.13) drop-shadow(0 3px 18px #fa4c8c99) blur(1px) saturate(1.25);
      box-shadow: 0 8px 40px #ff5ca6bb, 0 2px 14px #ffb6d5bb;
      transform: scale(1.07) rotate(2deg);
    }
    .polaroid.animated {
      animation: swing 2.6s cubic-bezier(.22,1.61,.36,1) infinite alternate;
    }
    @keyframes swing {
      0% { transform: scale(1) rotate(var(--angle)); }
      20% { transform: scale(1.03) rotate(calc(var(--angle) + 4deg)); }
      40% { transform: scale(0.95) rotate(calc(var(--angle) - 3deg)); }
      100% { transform: scale(1) rotate(var(--angle)); }
    }
    @keyframes floatPolaroid {
      0% { opacity: 0; transform: scale(0.7) rotate(var(--angle)); }
      80% { opacity: 1; transform: scale(1.08) rotate(var(--angle)); }
      100% { opacity: 1; transform: scale(1) rotate(var(--angle)); }
    }
    .doodle {
      position: absolute;
      pointer-events: none;
      opacity: 0.4;
      z-index: 10;
      animation: doodleFloat 5s infinite alternate;
    }
    .doodle1 { left: 2vw; top: 13px; width: 58px; animation-delay: 1.2s;}
    .doodle2 { right: 2vw; bottom: 30px; width: 64px; animation-delay: 2.7s;}
    .doodle3 { right: 7vw; top: 32px; width: 40px; animation-delay: 0.6s;}
    @keyframes doodleFloat {
      0% { transform: translateY(0);}
      100% { transform: translateY(12px);}
    }
    .petal, .falling-thing {
      position: fixed;
      pointer-events: none;
      width: 32px;
      height: 32px;
      z-index: 1000;
      opacity: 0.8;
      transition: opacity 1s;
      font-size: 2em;
      will-change: transform, opacity;
    }
    .emoji-pop {
      position: fixed;
      font-size: 2.5em;
      pointer-events: none;
      z-index: 999;
      animation: pop 1s forwards;
      filter: drop-shadow(0 3px 14px #fa4c8c44);
    }
    @keyframes pop {
      0%   { opacity: 0; transform: scale(0.2) translateY(0);}
      60%  { opacity: 1; transform: scale(1.3) translateY(-40px);}
      90%  { opacity: 1; }
      100% { opacity: 0; transform: scale(1.1) translateY(-80px);}
    }
    .love-letter {
      background: #fff6fa;
      border-radius: 22px;
      box-shadow: 0 6px 32px #fa4c8c22, 0 2px 8px #fa4c8c19;
      padding: 38px 22px 38px 22px;
      max-width: 430px;
      min-height: 180px;
      font-size: 1.2em;
      color: #b32d5e;
      text-align: center;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 32px 0 18px 0;
      letter-spacing: 0.04em;
      animation: popIn 1.3s cubic-bezier(.68, -0.55, .27, 1.55);
    }
    @keyframes popIn {
      0% { opacity: 0; transform: scale(0.6);}
      100% { opacity: 1; transform: scale(1);}
    }
    .love-letter .signature {
      margin-top: 18px;
      color: #fa4c8c;
      font-family: 'Segoe Script', cursive;
      font-size: 1.07em;
      letter-spacing: 0.09em;
      text-shadow: 0 1px 6px #fa4c8c33;
    }
    .hearts-anim {
      position: relative;
      width: 200px;
      height: 80px;
      margin: 30px auto 18px auto;
    }
    .hearts-anim .h {
      position: absolute;
      width: 38px; opacity: 0.58;
      animation: heartFloat 2.3s infinite;
    }
    .hearts-anim .h1 { left: 7px; top: 33px; animation-delay: 0.1s; }
    .hearts-anim .h2 { left: 60px; top: 17px; animation-delay: 0.7s; }
    .hearts-anim .h3 { left: 123px; top: 44px; animation-delay: 1.1s;}
    .hearts-anim .h4 { left: 163px; top: 12px; animation-delay: 1.7s;}
    @keyframes heartFloat {
      0% { transform: scale(0.92) translateY(0);}
      48% { transform: scale(1.13) translateY(-22px);}
      100% { transform: scale(0.92) translateY(0);}
    }
    .fav-imgbox {
      margin: 0 auto;
      width: 140px; height: 140px;
      border-radius: 50%;
      background: #fff6fa;
      box-shadow: 0 2px 20px #fa4c8c2c;
      display: flex; align-items: center; justify-content: center;
      overflow: hidden;
      margin-bottom: 16px;
      border: 6px solid #ffe3f3;
      animation: popIn 1.2s cubic-bezier(.68,-0.55,.27,1.55);
    }
    .fav-imgbox img {
      width: 100%; height: 100%; object-fit: cover;
      border-radius: 50%;
    }
    /* Heart shape emoji cloud page */
    #heartCloud {
      position: relative;
      width: 360px;
      height: 300px;
      margin: 32px auto 0 auto;
      pointer-events: none;
      z-index: 12;
    }
    .cloud-emoji {
      position: absolute;
      font-size: 2.7em;
      opacity: 0;
      transform: scale(0.6);
      filter: drop-shadow(0 2px 12px #fa4c8c77);
      animation: cloudPop 2.1s cubic-bezier(.42,1.45,.48,1) forwards;
    }
    @keyframes cloudPop {
      0%   { opacity: 0; transform: scale(0);}
      30%  { opacity: 1; transform: scale(1.25);}
      50%  { opacity: 1; transform: scale(0.97);}
      100% { opacity: 0; transform: scale(0.7);}
    }
    .cloud-quote {
      opacity: 0;
      font-size: 1.1em;
      color: #fa4c8c;
      margin: 32px auto 0 auto;
      text-align: center;
      max-width: 330px;
      animation: fadeInCloud 2s forwards;
      animation-delay: 2.2s;
    }
    @keyframes fadeInCloud {
      from {opacity: 0;}
      to   {opacity: 1;}
    }
    .dreamy-carousel {
      margin: 0 auto 18px auto;
      max-width: 92vw;
      width: 380px;
      height: 170px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: visible;
      pointer-events: none;
    }
    .dreamy-carousel img {
      position: absolute;
      width: 110px;
      height: 110px;
      object-fit: cover;
      border-radius: 22px;
      box-shadow: 0 8px 32px #fa4c8c44, 0 4px 20px #ffbadc77;
      opacity: 0.67;
      filter: blur(2px) brightness(0.95) saturate(1.1);
      transition: all 1s cubic-bezier(.68,-0.55,.27,1.55);
      z-index: 1;
    }
    .dreamy-carousel img.active {
      left: 50%; top: 12px;
      transform: translate(-50%, 0) scale(1.22) rotate(-2deg);
      opacity: 1;
      filter: blur(0) brightness(1.1) saturate(1.18) drop-shadow(0 0 18px #fa4c8ccc);
      z-index: 4;
    }
    .dreamy-carousel img.left {
      left: 17%; top: 34px;
      transform: scale(1) rotate(-8deg);
      opacity: 0.48;
      filter: blur(1.5px) brightness(0.98) saturate(1.1);
      z-index: 2;
    }
    .dreamy-carousel img.right {
      left: 83%; top: 34px;
      transform: scale(1) rotate(8deg);
      opacity: 0.48;
      filter: blur(1.5px) brightness(0.98) saturate(1.1);
      z-index: 2;
    }
    .dreamy-carousel img.far {
      left: 5%; top: 66px;
      transform: scale(0.8) rotate(-12deg);
      opacity: 0.25;
      z-index: 1;
      filter: blur(2.7px);
    }
    .dreamy-carousel img.farr {
      left: 95%; top: 66px;
      transform: scale(0.8) rotate(12deg);
      opacity: 0.25;
      z-index: 1;
      filter: blur(2.7px);
    }
    .footer {
      margin-top: 18px;
      color: #fa4c8c;
      font-size: 1.17em;
      font-weight: 600;
      text-shadow: 0 2px 10px #fa4c8c1a;
      letter-spacing: 0.05em;
    }
    @media (max-width: 600px) {
      .collage-board {
        min-width: 90vw;
        padding: 24px 4vw 32px 4vw;
        gap: 18px 7px;
      }
      .polaroid {
        width: 92px !important;
        padding-bottom: 11px;
      }
      .polaroid img { width: 76px; height: 76px; }
      .msg { padding: 8px 10px; }
      .love-letter { padding: 18px 4vw 18px 4vw; }
      .dreamy-carousel { width: 98vw; height: 100px;}
      .dreamy-carousel img { width: 64px; height: 64px; border-radius: 10px;}
      #heartCloud { width: 98vw; height: 200px;}
    }
  </style>
</head>
<body>
  <!-- Page 1: Welcome -->
  <div class="page active" id="page1">
    <svg class="heart" viewBox="0 0 32 29.6"><path fill="#fa4c8c" d="M23.6,0c-2.9,0-5.4,1.6-6.6,4C11.8,1.6,9.3,0,6.4,0C2.6,0,0,2.9,0,6.9c0,7.3,13.2,16.1,15,17.2c1.8-1.1,15-9.9,15-17.2C32,2.9,29.4,0,25.6,0z"/></svg>
    <h1>Our Love Story üíñ</h1>
    <div class="msg">
      Every day with you is a new page in my favorite story.<br>
      Let's relive our sweetest memories together!
    </div>
    <button class="love-btn" onclick="nextPage(2)">Begin the Journey</button>
    <audio id="mainAudio" src="https://files.catbox.moe/a3xmwz.mp3" preload="auto" loop></audio>
  </div>
  <!-- Page 2: Collage Gallery -->
  <div class="page" id="page2">
    <svg class="heart" viewBox="0 0 32 29.6"><path fill="#fa4c8c" d="M23.6,0c-2.9,0-5.4,1.6-6.6,4C11.8,1.6,9.3,0,6.4,0C2.6,0,0,2.9,0,6.9c0,7.3,13.2,16.1,15,17.2c1.8-1.1,15-9.9,15-17.2C32,2.9,29.4,0,25.6,0z"/></svg>
    <div class="msg">
      Every photo is a page from our scrapbook.<br>
      <span style="color:#fa4c8c; font-weight:bold;">Tap any picture for magic!</span>
    </div>
    <div class="collage-board" id="collage"></div>
    <div class="footer">‚Äî Our College of Love üì∏</div>
    <img class="doodle doodle1" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f338.svg" alt="flower">
    <img class="doodle doodle2" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f495.svg" alt="hearts">
    <img class="doodle doodle3" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f33c.svg" alt="sunflower">
    <button class="love-btn" onclick="nextPage(3)">Next</button>
  </div>
  <!-- Page 3: Heart Emoji Cloud Animation + Quote -->
  <div class="page" id="page3">
    <div id="heartCloud"></div>
    <div class="cloud-quote" id="cloudQuote">
      ‚ÄúOur hearts found their home long ago, when we found each other.‚Äù<br>
      <span style="font-size:2em;display:block;margin-top:8px;">üíó</span>
    </div>
    <button class="love-btn" onclick="nextPage(4)">Next</button>
  </div>
  <!-- Page 4: Romantic love letter -->
  <div class="page" id="page4">
    <svg class="heart" viewBox="0 0 32 29.6"><path fill="#fa4c8c" d="M23.6,0c-2.9,0-5.4,1.6-6.6,4C11.8,1.6,9.3,0,6.4,0C2.6,0,0,2.9,0,6.9c0,7.3,13.2,16.1,15,17.2c1.8-1.1,15-9.9,15-17.2C32,2.9,29.4,0,25.6,0z"/></svg>
    <div class="love-letter">
      <div>
        My dearest love,<br><br>
        I never believed in fairy tales until you walked into my life.<br>
        You are my best friend, my soulmate, and the most beautiful part of every day.<br>
        Thank you for filling my world with laughter, hope, and endless warmth.<br>
        <span style="color:#fa4c8c;font-weight:bold;">I love you more than words can say.</span>
      </div>
      <div class="signature">‚Äî Forever Yours</div>
    </div>
    <button class="love-btn" onclick="nextPage(5)">Continue</button>
  </div>
  <!-- Page 5: Animated hearts + favorite memory (restored classic look) -->
  <div class="page" id="page5">
    <svg class="heart" viewBox="0 0 32 29.6"><path fill="#fa4c8c" d="M23.6,0c-2.9,0-5.4,1.6-6.6,4C11.8,1.6,9.3,0,6.4,0C2.6,0,0,2.9,0,6.9c0,7.3,13.2,16.1,15,17.2c1.8-1.1,15-9.9,15-17.2C32,2.9,29.4,0,25.6,0z"/></svg>
    <div class="hearts-anim">
      <img class="h h1" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/2764.svg" />
      <img class="h h2" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f497.svg" />
      <img class="h h3" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f496.svg" />
      <img class="h h4" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f495.svg" />
    </div>
    <div class="fav-imgbox">
      <img src="https://i.ibb.co/1YcxbKYR/74022-DD7-8-A77-499-B-AD48-B434418-A07-DF.png" alt="Favorite memory">
    </div>
    <div class="msg">
      This one memory always makes me smile.<br>
      It's just one of so many reasons why I love you!<br>
      <span style="color:#fa4c8c; font-weight:bold;">My heart is always yours.</span>
    </div>
    <button class="love-btn" onclick="nextPage(6)">Dream with Me</button>
  </div>
  <!-- Page 6: Dreamy style image carousel -->
  <div class="page" id="page6">
    <svg class="heart" viewBox="0 0 32 29.6"><path fill="#fa4c8c" d="M23.6,0c-2.9,0-5.4,1.6-6.6,4C11.8,1.6,9.3,0,6.4,0C2.6,0,0,2.9,0,6.9c0,7.3,13.2,16.1,15,17.2c1.8-1.1,15-9.9,15-17.2C32,2.9,29.4,0,25.6,0z"/></svg>
    <h1 style="margin-bottom:8px;">Dreaming of Us ‚ú®</h1>
    <div class="dreamy-carousel" id="dreamyCarousel"></div>
    <div class="msg">
      When I close my eyes, all I see is you and our beautiful story.<br>
      <span style="color:#fa4c8c;font-weight:bold;">Forever and always, it's you.</span>
    </div>
    <div class="footer">‚Äî Your Dreamer üíå</div>
  </div>
  <script>
    // Images and captions
    const images = [
      { src: "https://i.ibb.co/1YcxbKYR/74022-DD7-8-A77-499-B-AD48-B434418-A07-DF.png", caption: "Our Teddy Moments" },
      { src: "https://i.ibb.co/GQk1HSB8/IMG-3728.jpg", caption: "Sweet Selfie" },
      { src: "https://i.ibb.co/hRDD3Z3w/IMG-3682.jpg", caption: "Smiles That Shine" },
      { src: "https://i.ibb.co/TMnsCgGH/IMG-2265.jpg", caption: "Sunshine Vibes" },
      { src: "https://i.ibb.co/1f1d3f1M/IMG-2259.jpg", caption: "Cute Faces" },
      { src: "https://i.ibb.co/9Hg1wG5w/IMG-1840.jpg", caption: "Happy Days" },
      { src: "https://i.ibb.co/CKYPXR36/061a4f7e-769b-4a75-9093-cf1f3b7dfc33.jpg", caption: "Hearts Together" },
      { src: "https://i.ibb.co/j9vBYg11/IMG-8587.jpg", caption: "Adventures" },
      { src: "https://i.ibb.co/ybbg2cq/IMG-8843.jpg", caption: "Silly Us" },
      { src: "https://i.ibb.co/Df3djM7j/69866bed-8a0e-4f29-9d1c-1984055ea4c6.jpg", caption: "Crazy Times" }
    ];
    const polaroidAngles = [-8, 7, -4, 10, -12, 13, -6, 8, -9, 6];

    // Maintain same music throughout
    let mainAudio;
    function playMainAudio() {
      if (!mainAudio) mainAudio = document.getElementById('mainAudio');
      mainAudio.volume = 0.7;
      if (mainAudio.paused) mainAudio.play().catch(()=>{});
    }
    function nextPage(pageNum) {
      document.querySelectorAll('.page').forEach(pg => pg.classList.remove('active'));
      document.getElementById('page'+pageNum).classList.add('active');
      playMainAudio();
      if(pageNum===2) showCollage();
      if(pageNum===3) showHeartCloud();
      if(pageNum===6) showDreamyCarousel();
    }

    // Page 2: College style collage
    function showCollage() {
      const collage = document.getElementById('collage');
      if(collage.childElementCount > 0) return;
      images.forEach((imgObj, idx) => {
        let polaroid = document.createElement('div');
        polaroid.className = 'polaroid';
        polaroid.style.setProperty('--angle', (polaroidAngles[idx % polaroidAngles.length]) + 'deg');
        polaroid.style.animationDelay = (0.2+idx*0.12)+'s';
        if(idx%2==0) polaroid.classList.add('animated');
        let img = document.createElement('img');
        img.src = imgObj.src;
        img.alt = imgObj.caption;
        img.title = imgObj.caption;
        img.onerror = () => { polaroid.style.display = "none"; };
        let caption = document.createElement('div');
        caption.className = 'caption';
        caption.textContent = imgObj.caption || '';
        polaroid.appendChild(img);
        polaroid.appendChild(caption);

        // Each photo gets its own special tap effect (falls from top)
        polaroid.onclick = (e) => {
          const effectIdx = idx % 10;
          const things = [
            "üß∏", "üíû", "üå∏", "üå∑", "‚ù§Ô∏è", "‚ú®", "üêª", "üíã", "üåà", "ü¶ã"
          ];
          fallFromTop(e.clientX, things[effectIdx]);
          polaroid.classList.add('glow');
          setTimeout(() => polaroid.classList.remove('glow'), 1200);
        };
        collage.appendChild(polaroid);
        setTimeout(()=>{polaroid.style.opacity=1;}, 300+idx*180);
      });
    }

    // Falling effect from top at x, using emoji or SVG
    function fallFromTop(x, emoji) {
      let n = 12 + Math.floor(Math.random()*4);
      for(let i=0;i<n;i++) {
        setTimeout(()=>{
          const el = document.createElement('div');
          el.className = 'falling-thing';
          el.textContent = emoji;
          const startX = x + (Math.random()-0.5)*100;
          el.style.left = startX + "px";
          el.style.top = "-40px";
          document.body.appendChild(el);
          let drift = (Math.random()-0.5)*60;
          let fallY = window.innerHeight + 80;
          el.animate([
            { transform: `translate(0,0) scale(1)`, opacity: 1 },
            { transform: `translate(${drift}px,${fallY}px) scale(${0.9+Math.random()*0.3})`, opacity: 0.1 }
          ], {duration: 1400+Math.random()*700, fill: 'forwards'});
          setTimeout(()=>{el.remove();}, 1800);
        }, i*60);
      }
    }

    // Page 3: Heart cloud emoji animation
    function showHeartCloud() {
      const cloud = document.getElementById('heartCloud');
      const quote = document.getElementById('cloudQuote');
      cloud.innerHTML = "";
      quote.style.opacity = 0;
      // Heart shape math
      // (x = 16*sin^3(t), y = 13*cos(t)-5*cos(2t)-2*cos(3t)-cos(4t))
      let emojis = ["üíñ","üíó","üíù","üíï","üíû","üíì","üíò","üíü","üß∏","üêª"];
      let points = [];
      for(let i=0;i<28;i++){
        const t = Math.PI - (Math.PI*2*i/28);
        let x = 16*Math.pow(Math.sin(t),3);
        let y = 13*Math.cos(t) - 5*Math.cos(2*t) - 2*Math.cos(3*t) - Math.cos(4*t);
        let px = 180 + x*8;
        let py = 130 - y*6;
        points.push({x:px, y:py, emoji:emojis[i%emojis.length]});
      }
      points.forEach((pt, idx)=>{
        setTimeout(()=>{
          const el = document.createElement('div');
          el.className = "cloud-emoji";
          el.textContent = pt.emoji;
          el.style.left = pt.x+"px";
          el.style.top  = pt.y+"px";
          el.style.animationDelay = (0.06*idx)+"s";
          cloud.appendChild(el);
        }, idx*70);
      });
      setTimeout(()=>{quote.style.opacity=1;}, 2200);
    }

    // Dreamy carousel
    let dreamyIdx = 0, dreamyTimer = null;
    function showDreamyCarousel() {
      const dc = document.getElementById('dreamyCarousel');
      dc.innerHTML = '';
      images.forEach((imgObj, idx) => {
        let img = document.createElement('img');
        img.src = imgObj.src;
        img.alt = imgObj.caption;
        img.className = '';
        dc.appendChild(img);
      });
      updateDreamyCarousel();
      if (dreamyTimer) clearInterval(dreamyTimer);
      dreamyTimer = setInterval(()=>{dreamyIdx = (dreamyIdx+1)%images.length; updateDreamyCarousel();}, 2100);
    }
    function updateDreamyCarousel() {
      const imgs = Array.from(document.querySelectorAll('#dreamyCarousel img'));
      imgs.forEach((img, idx)=>{
        img.className = '';
        let rel = (idx - dreamyIdx + images.length) % images.length;
        if(rel === 0) img.classList.add('active');
        else if(rel === 1) img.classList.add('right');
        else if(rel === images.length-1) img.classList.add('left');
        else if(rel === 2) img.classList.add('farr');
        else if(rel === images.length-2) img.classList.add('far');
        else img.style.opacity="0";
      });
    }
    // Petals animation (always in background)
    const petalSVG = `<svg width="32" height="32" viewBox="0 0 32 32"><path fill="#fa4c8c" d="M16,2 Q26,11 16,30 Q6,11 16,2 Z" opacity="0.7"/></svg>`;
    function createPetal() {
      const p = document.createElement('div');
      p.className = 'petal';
      p.innerHTML = petalSVG;
      p.style.left = Math.random()*100 + 'vw';
      p.style.top = '-40px';
      document.body.appendChild(p);
      let duration = 5 + Math.random()*6;
      let drift = (Math.random()-0.5)*80;
      p.animate([
        { transform: `translate(0,0) rotate(0deg)`, opacity: 0.7 },
        { transform: `translate(${drift}px,90vh) rotate(${Math.random()*360}deg)`, opacity: 0.2 }
      ], {duration: duration*1000, fill: 'forwards'});
      setTimeout(()=>{p.remove();}, duration*1000);
    }
    setInterval(createPetal, 800);

    // Music (autoplay after first interaction)
    let played = false;
    window.addEventListener('pointerdown', ()=>{
      if(!played) {
        playMainAudio();
        played = true;
      }
    });
  </script>
</body>
</html>
